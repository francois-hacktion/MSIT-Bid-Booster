<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BidBooster — Analytics</title>

    <script src="https://cdn.tailwindcss.script"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: { primary: '#0A66C2', accent: '#00B389', warning: '#F59E0B', danger: '#EF4444', dark: '#0F172A', surface: '#F8FAFC' }
                    },
                    fontFamily: { display: ['Outfit', 'sans-serif'], body: ['Plus Jakarta Sans', 'sans-serif'] }
                }
            }
        }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Outfit', sans-serif;
        }

        .sidebar-item {
            transition: all 0.2s ease;
        }

        .sidebar-item:hover,
        .sidebar-item.active {
            background: rgba(10, 102, 194, 0.1);
            border-left-color: #0A66C2;
        }
    </style>
</head>

<body class="bg-gray-50 text-brand-dark">

    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside class="w-56 bg-white border-r border-gray-200 fixed h-full">
            <div class="p-5">
                <a href="index.html" class="flex items-center gap-3">
                    <img src="logos/BidBooster.png" alt="BidBooster" class="h-9">
                </a>
            </div>

            <nav class="px-3 space-y-0.5">
                <a href="dashboard.html"
                    class="sidebar-item flex items-center gap-3 px-3 py-2.5 rounded-lg border-l-4 border-transparent cursor-pointer">
                    <i data-lucide="layout-dashboard" class="w-4 h-4 text-gray-500"></i>
                    <span class="text-sm font-medium text-gray-600">Dashboard</span>
                </a>
                <a href="pipeline.html"
                    class="sidebar-item flex items-center gap-3 px-3 py-2.5 rounded-lg border-l-4 border-transparent cursor-pointer">
                    <i data-lucide="inbox" class="w-4 h-4 text-gray-500"></i>
                    <span class="text-sm font-medium text-gray-600">Pipeline AO</span>
                    <span class="ml-auto bg-brand-primary text-white text-xs px-1.5 py-0.5 rounded-full">12</span>
                </a>
                <a href="#" onclick="openUploadModal(); return false;"
                    class="sidebar-item flex items-center gap-3 px-3 py-2.5 rounded-lg border-l-4 border-transparent cursor-pointer">
                    <i data-lucide="file-plus" class="w-4 h-4 text-gray-500"></i>
                    <span class="text-sm font-medium text-gray-600">Nouvel AO</span>
                </a>
                <a href="knowledge.html"
                    class="sidebar-item flex items-center gap-3 px-3 py-2.5 rounded-lg border-l-4 border-transparent cursor-pointer">
                    <i data-lucide="database" class="w-4 h-4 text-gray-500"></i>
                    <span class="text-sm font-medium text-gray-600">Base de Savoir</span>
                </a>
                <a href="analytics.html"
                    class="sidebar-item active flex items-center gap-3 px-3 py-2.5 rounded-lg border-l-4 border-transparent cursor-pointer">
                    <i data-lucide="bar-chart-3" class="w-4 h-4 text-brand-primary"></i>
                    <span class="text-sm font-medium">Analytics</span>
                </a>
            </nav>

            <div class="absolute bottom-0 left-0 right-0 p-3 border-t border-gray-200">
                <div class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-brand-primary/10 rounded-full flex items-center justify-center">
                        <span class="text-brand-primary font-semibold text-xs">JM</span>
                    </div>
                    <div class="flex-1">
                        <div class="font-medium text-xs">Julie Martin</div>
                        <div class="text-xs text-gray-400">Bid Manager</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 ml-56 p-6 h-screen overflow-auto flex flex-col">
            <!-- Header -->
            <div class="flex items-center justify-between mb-6">
                <div>
                    <h1 class="text-2xl font-bold">Analytics & ROI</h1>
                    <p class="text-gray-500 text-sm mt-0.5">Performance BidBooster • Période : 12 derniers mois</p>
                </div>
                <select
                    class="text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand-primary/20 cursor-pointer">
                    <option>12 derniers mois</option>
                    <option>6 derniers mois</option>
                    <option>Ce trimestre</option>
                    <option>Ce mois</option>
                </select>
            </div>

            <!-- ROI Cards -->
            <div class="grid grid-cols-4 gap-4 mb-6">
                <div class="bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg p-4 text-white">
                    <div class="flex items-center gap-2 mb-2">
                        <i data-lucide="clock" class="w-5 h-5 opacity-80"></i>
                        <span class="text-xs font-medium opacity-80">Temps économisé</span>
                    </div>
                    <div class="text-3xl font-bold">1,248h</div>
                    <div class="text-xs opacity-80 mt-1">vs 3,120h processus manuel</div>
                </div>
                <div class="bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg p-4 text-white">
                    <div class="flex items-center gap-2 mb-2">
                        <i data-lucide="euro" class="w-5 h-5 opacity-80"></i>
                        <span class="text-xs font-medium opacity-80">Coûts réduits</span>
                    </div>
                    <div class="text-3xl font-bold">187k€</div>
                    <div class="text-xs opacity-80 mt-1">économie massive annuelle</div>
                </div>
                <div class="bg-gradient-to-br from-purple-500 to-violet-600 rounded-lg p-4 text-white">
                    <div class="flex items-center gap-2 mb-2">
                        <i data-lucide="trophy" class="w-5 h-5 opacity-80"></i>
                        <span class="text-xs font-medium opacity-80">Taux de succès</span>
                    </div>
                    <div class="text-3xl font-bold">67%</div>
                    <div class="text-xs opacity-80 mt-1">vs 45% avant BidBooster</div>
                </div>
                <div class="bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg p-4 text-white">
                    <div class="flex items-center gap-2 mb-2">
                        <i data-lucide="trending-up" class="w-5 h-5 opacity-80"></i>
                        <span class="text-xs font-medium opacity-80">ROI Global</span>
                    </div>
                    <div class="text-3xl font-bold">420%</div>
                    <div class="text-xs opacity-80 mt-1">retour sur investissement</div>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="grid grid-cols-2 gap-4 mb-4">
                <!-- Win Rate Evolution -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-4">
                    <h3 class="font-semibold text-sm mb-4">Évolution Taux de Succès</h3>
                    <canvas id="winRateChart" height="180"></canvas>
                </div>

                <!-- Time Saved -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-4">
                    <h3 class="font-semibold text-sm mb-4">Temps Économisé par Mois</h3>
                    <canvas id="timeSavedChart" height="180"></canvas>
                </div>
            </div>

            <div class="grid grid-cols-3 gap-4">
                <!-- Sector Distribution -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-4">
                    <h3 class="font-semibold text-sm mb-4">Répartition Sectorielle</h3>
                    <canvas id="sectorChart" height="200"></canvas>
                </div>

                <!-- AI Performance -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-4">
                    <h3 class="font-semibold text-sm mb-4">Précision IA par Modèle</h3>
                    <canvas id="aiChart" height="200"></canvas>
                </div>

                <!-- Top Sectors -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-4">
                    <h3 class="font-semibold text-sm mb-4">Top Secteurs (Win Rate)</h3>
                    <div class="space-y-3 text-xs">
                        <div>
                            <div class="flex justify-between mb-1"><span>Banque/Finance</span><span
                                    class="font-medium">78%</span></div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-full bg-brand-primary rounded-full" style="width: 78%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1"><span>Énergie</span><span
                                    class="font-medium">72%</span></div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-full bg-brand-primary rounded-full" style="width: 72%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1"><span>Retail</span><span
                                    class="font-medium">68%</span></div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-full bg-brand-primary rounded-full" style="width: 68%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1"><span>Défense</span><span
                                    class="font-medium">65%</span></div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-full bg-brand-primary rounded-full" style="width: 65%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1"><span>Transport</span><span
                                    class="font-medium">58%</span></div>
                            <div class="h-2 bg-gray-200 rounded-full">
                                <div class="h-full bg-brand-primary rounded-full" style="width: 58%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 items-center justify-center hidden"
        style="display: none;">
        <div class="bg-white rounded-xl w-full max-w-md mx-4 shadow-2xl">
            <div class="p-4 border-b border-gray-100 flex items-center justify-between">
                <h3 class="font-bold">Analyser un nouvel AO</h3>
                <button onclick="closeUploadModal()" class="text-gray-400 hover:text-gray-600 cursor-pointer">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="p-4">
                <div
                    class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-brand-primary hover:bg-brand-primary/5 transition-all cursor-pointer">
                    <i data-lucide="upload-cloud" class="w-12 h-12 text-gray-400 mx-auto mb-3"></i>
                    <h4 class="font-semibold mb-1">Glissez-déposez votre RFP</h4>
                    <p class="text-gray-500 text-sm">PDF, Word, Excel (max 50MB)</p>
                </div>
            </div>
        </div>
    </div>

    <style>
        #uploadModal.active {
            display: flex !important;
        }
    </style>

    <script>
        lucide.createIcons();

        // Upload Modal
        function openUploadModal() {
            document.getElementById('uploadModal').classList.add('active');
        }
        function closeUploadModal() {
            document.getElementById('uploadModal').classList.remove('active');
        }
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeUploadModal();
        });

        // Win Rate Chart
        new Chart(document.getElementById('winRateChart'), {
            type: 'line',
            data: {
                labels: ['Fév', 'Mar', 'Avr', 'Mai', 'Juin', 'Juil', 'Août', 'Sep', 'Oct', 'Nov', 'Déc', 'Jan'],
                datasets: [{
                    label: 'Avec BidBooster',
                    data: [48, 52, 55, 58, 60, 62, 63, 65, 66, 67, 67, 67],
                    borderColor: '#00B389',
                    backgroundColor: 'rgba(0, 179, 137, 0.1)',
                    fill: true,
                    tension: 0.4
                }, {
                    label: 'Baseline',
                    data: [45, 44, 46, 45, 44, 45, 46, 45, 44, 45, 45, 45],
                    borderColor: '#CBD5E1',
                    borderDash: [5, 5],
                    fill: false,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                plugins: { legend: { position: 'bottom', labels: { boxWidth: 12, font: { size: 10 } } } },
                scales: { y: { beginAtZero: false, min: 40, max: 75, ticks: { font: { size: 10 } } }, x: { ticks: { font: { size: 10 } } } }
            }
        });

        // Time Saved Chart
        new Chart(document.getElementById('timeSavedChart'), {
            type: 'bar',
            data: {
                labels: ['Fév', 'Mar', 'Avr', 'Mai', 'Juin', 'Juil', 'Août', 'Sep', 'Oct', 'Nov', 'Déc', 'Jan'],
                datasets: [{
                    label: 'Heures économisées',
                    data: [72, 85, 94, 98, 102, 108, 95, 112, 118, 125, 120, 119],
                    backgroundColor: '#0A66C2'
                }]
            },
            options: {
                responsive: true,
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true, ticks: { font: { size: 10 } } }, x: { ticks: { font: { size: 10 } } } }
            }
        });

        // Sector Chart
        new Chart(document.getElementById('sectorChart'), {
            type: 'doughnut',
            data: {
                labels: ['Banque', 'Énergie', 'Retail', 'Défense', 'Transport', 'Autres'],
                datasets: [{
                    data: [28, 22, 18, 15, 10, 7],
                    backgroundColor: ['#0A66C2', '#00B389', '#F59E0B', '#8B5CF6', '#EC4899', '#94A3B8']
                }]
            },
            options: {
                responsive: true,
                plugins: { legend: { position: 'bottom', labels: { boxWidth: 10, font: { size: 9 }, padding: 8 } } }
            }
        });

        // AI Performance Chart
        new Chart(document.getElementById('aiChart'), {
            type: 'bar',
            data: {
                labels: ['Claude 3.5', 'GPT-4o', 'Mistral L', 'Llama 3.2'],
                datasets: [{
                    label: 'Précision %',
                    data: [94, 92, 89, 91],
                    backgroundColor: ['#8B5CF6', '#10B981', '#F59E0B', '#3B82F6']
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                plugins: { legend: { display: false } },
                scales: { x: { beginAtZero: true, max: 100, ticks: { font: { size: 10 } } }, y: { ticks: { font: { size: 10 } } } }
            }
        });
    </script>
</body>

</html>